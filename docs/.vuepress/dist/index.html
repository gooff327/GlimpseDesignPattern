<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>ES6 Learning Design Pattern</title>
    <meta name="description" content="">
    
    
    <link rel="preload" href="/assets/css/0.styles.e61d88a4.css" as="style"><link rel="preload" href="/assets/js/app.f101a0f9.js" as="script"><link rel="preload" href="/assets/js/2.b62cff51.js" as="script"><link rel="preload" href="/assets/js/5.789fbaef.js" as="script"><link rel="prefetch" href="/assets/js/3.5db92373.js"><link rel="prefetch" href="/assets/js/4.c9d92ac9.js"><link rel="prefetch" href="/assets/js/6.205c5483.js">
    <link rel="stylesheet" href="/assets/css/0.styles.e61d88a4.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-exact-active router-link-active"></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <!----></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><!---->  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>ES6 Learning Design Pattern</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/#brief" class="sidebar-link">Brief</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/#constructor" class="sidebar-link">Constructor</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/#module" class="sidebar-link">Module</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/#revealing-module" class="sidebar-link">Revealing Module</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/#singleton" class="sidebar-link">Singleton</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/#observer" class="sidebar-link">Observer</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/#mediator" class="sidebar-link">Mediator</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/#prototype" class="sidebar-link">Prototype</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/#command" class="sidebar-link">Command</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/#facade" class="sidebar-link">Facade</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/#factory" class="sidebar-link">Factory</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/#mixin" class="sidebar-link">Mixin</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/#flyweight" class="sidebar-link">Flyweight</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/#composite" class="sidebar-link">Composite</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/#adapter" class="sidebar-link">Adapter</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/#iterator" class="sidebar-link">Iterator</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/#proxy" class="sidebar-link">Proxy</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/#builder" class="sidebar-link">Builder</a><ul class="sidebar-sub-headers"></ul></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="es6-learning-design-pattern"><a href="#es6-learning-design-pattern" class="header-anchor">#</a> ES6 Learning Design Pattern</h1> <h2 id="brief"><a href="#brief" class="header-anchor">#</a> Brief</h2> <p>《JavaScript 设计模式》读书笔记</p> <h2 id="constructor"><a href="#constructor" class="header-anchor">#</a> Constructor</h2> <p>ES6引入了类的概念，使得传统对象原型的写法变得更加清晰</p> <p>Before ES6:</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">Stuff</span> <span class="token punctuation">(</span><span class="token parameter">name<span class="token punctuation">,</span> age</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name<span class="token punctuation">;</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>age <span class="token operator">=</span> age<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token class-name">Stuff</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function-variable function">brief</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token string">'name: '</span> <span class="token operator">+</span> <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">+</span> <span class="token string">', sex: '</span> <span class="token operator">+</span> <span class="token keyword">this</span><span class="token punctuation">.</span>age<span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token comment">// Usage:</span>

<span class="token keyword">var</span> Lily <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Stuff</span><span class="token punctuation">(</span><span class="token string">'Lily'</span><span class="token punctuation">,</span> <span class="token number">20</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> Jack <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Stuff</span><span class="token punctuation">(</span><span class="token string">'Jack'</span><span class="token punctuation">,</span> <span class="token number">24</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>Lily<span class="token punctuation">.</span><span class="token function">brief</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// name: Lily , sex: 20</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>Jack<span class="token punctuation">.</span><span class="token function">brief</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// name: Jack , sex: 24</span>
</code></pre></div><p>ES6:</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">class</span> <span class="token class-name">Stuff</span> <span class="token punctuation">{</span>
    <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token parameter">name<span class="token punctuation">,</span> age</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name<span class="token punctuation">;</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>age <span class="token operator">=</span> age<span class="token punctuation">;</span>  
    <span class="token punctuation">}</span>
    <span class="token function">brief</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token string">'name: '</span> <span class="token operator">+</span> <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">+</span> <span class="token string">', sex: '</span> <span class="token operator">+</span> <span class="token keyword">this</span><span class="token punctuation">.</span>age<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token comment">// Usage:</span>

<span class="token keyword">let</span> Lily <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Stuff</span><span class="token punctuation">(</span><span class="token string">'Lily'</span><span class="token punctuation">,</span> <span class="token number">20</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> Jack <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Stuff</span><span class="token punctuation">(</span><span class="token string">'Jack'</span><span class="token punctuation">,</span> <span class="token number">24</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>Lily<span class="token punctuation">.</span><span class="token function">brief</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// name: Lily , sex: 20</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>Jack<span class="token punctuation">.</span><span class="token function">brief</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// name: Jack , sex: 24</span>
</code></pre></div><h2 id="module"><a href="#module" class="header-anchor">#</a> Module</h2> <p>模块模式在JavaScript库或框架中得到广泛的运用,进一步模拟类的概念，实现单独的对象拥有公有/私有方法和变量，降低与其他脚本定义的函数的冲突可能性</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">const</span> complexModulePattern <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// private</span>
    <span class="token keyword">let</span> counter <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
    <span class="token keyword">function</span> <span class="token function">print</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>counter<span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">return</span> <span class="token punctuation">{</span>
        <span class="token function-variable function">increment</span><span class="token punctuation">:</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            counter <span class="token operator">++</span><span class="token punctuation">;</span>
            <span class="token function">print</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token function-variable function">decrement</span><span class="token punctuation">:</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            counter <span class="token operator">--</span><span class="token punctuation">;</span>
            <span class="token function">print</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// Usage:</span>

complexModulePattern<span class="token punctuation">.</span><span class="token function">increment</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 1</span>
</code></pre></div><h2 id="revealing-module"><a href="#revealing-module" class="header-anchor">#</a> Revealing Module</h2> <p>通过定义一个匿名函数，返回一个公有指针指向私有的函数和属性，提高了可读性，在打补丁时候公有函数不能被覆盖</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">let</span> <span class="token function-variable function">webWork</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">let</span> server <span class="token operator">=</span> <span class="token string">'http://test.com'</span><span class="token punctuation">;</span>
    <span class="token keyword">let</span> browser <span class="token operator">=</span> <span class="token string">'Chrome'</span><span class="token punctuation">;</span>

    <span class="token keyword">function</span> <span class="token function">resourceSource</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">fetching resource from </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>server<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span>
    <span class="token punctuation">}</span>

    <span class="token keyword">function</span> <span class="token function">changeServer</span> <span class="token punctuation">(</span><span class="token parameter">str</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        server <span class="token operator">=</span> str
    <span class="token punctuation">}</span>

    <span class="token keyword">function</span> <span class="token function">getCurrentServer</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token function">resourceSource</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">return</span> <span class="token punctuation">{</span>
        browser<span class="token punctuation">,</span>
        changeServer<span class="token punctuation">,</span>
        getCurrentServer
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// Usage:</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>webWork<span class="token punctuation">.</span>browser<span class="token punctuation">)</span><span class="token punctuation">;</span>   <span class="token comment">// Chrome</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>webWork<span class="token punctuation">.</span><span class="token function">getCurrentServer</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token comment">// fetching resource from http://test.com </span>
webWork<span class="token punctuation">.</span><span class="token function">changeServer</span><span class="token punctuation">(</span><span class="token string">'http://change_test.com'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>webWork<span class="token punctuation">.</span><span class="token function">getCurrentServer</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token comment">// fetching resource from http://change_test.com </span>
</code></pre></div><h2 id="singleton"><a href="#singleton" class="header-anchor">#</a> Singleton</h2> <p>采用单例模式编写的类至多拥有一个实例</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">let</span> instance<span class="token punctuation">;</span>
<span class="token keyword">class</span> <span class="token class-name">SingleAdmin</span> <span class="token punctuation">{</span>
    <span class="token function">constructor</span> <span class="token punctuation">(</span><span class="token parameter">name<span class="token punctuation">,</span> uid</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>

        <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token operator">!</span>instance<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            instance <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>

        <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name<span class="token punctuation">;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>uid <span class="token operator">=</span> uid<span class="token punctuation">;</span>

        <span class="token keyword">return</span> instance
    <span class="token punctuation">}</span>

    <span class="token function">whoAmI</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>name<span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">.</span>uid<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword">let</span> user1 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">SingleAdmin</span><span class="token punctuation">(</span><span class="token string">'Alice'</span><span class="token punctuation">,</span> <span class="token number">2019</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> user2 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">SingleAdmin</span><span class="token punctuation">(</span><span class="token string">'Bob'</span><span class="token punctuation">,</span> <span class="token number">2020</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
user1<span class="token punctuation">.</span><span class="token function">whoAmI</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>     <span class="token comment">// Alice 2019</span>
user2<span class="token punctuation">.</span><span class="token function">whoAmI</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>     <span class="token comment">// Alice 2019</span>
</code></pre></div><h2 id="observer"><a href="#observer" class="header-anchor">#</a> Observer</h2> <p>Subject维护依赖于观察者的对象，将有关状态的变更通知给他们， <code>Subject（目标）</code>：维护一系列的观察者，可以进行观察者的添加与删除，<code>Observer（观察者）</code>：为目标状态发生改变时需要获得通知的对象提供更新接口，<code>ConcreteSubject（具体目标）</code>：状态发生改变的时候向 <code>Observer</code>发出通知，存储   <code>ConcreteObserver（具体观察者）</code>的状态存储一个指向<code>ConcreteSubject</code>的引用，实现<code>Observer</code>的    <code>Update</code>接口，使得自身状态与目标一致</p> <p>Subject:</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">class</span> <span class="token class-name">ObserverList</span> <span class="token punctuation">{</span>
    <span class="token function">constructor</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>observerList <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span>
    <span class="token function">add</span> <span class="token punctuation">(</span><span class="token parameter">obj</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>observerList<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>obj<span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span>
    <span class="token function">remove</span> <span class="token punctuation">(</span><span class="token parameter">obj</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">const</span> removeIndex <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>observerList<span class="token punctuation">.</span><span class="token function">findIndex</span><span class="token punctuation">(</span><span class="token parameter">obs</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
            <span class="token keyword">return</span> observer <span class="token operator">===</span> obs<span class="token punctuation">;</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        
        <span class="token keyword">if</span> <span class="token punctuation">(</span>removeIndex <span class="token operator">!==</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">this</span><span class="token punctuation">.</span>observerList <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>observerList<span class="token punctuation">.</span><span class="token function">slice</span><span class="token punctuation">(</span>removeIndex<span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span>
    <span class="token function">empty</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>observerList <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span>
    <span class="token function">count</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>observerList<span class="token punctuation">.</span>length<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">get</span> <span class="token punctuation">(</span>index<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">if</span><span class="token punctuation">(</span>index <span class="token operator">&gt;</span> <span class="token operator">-</span><span class="token number">1</span> <span class="token operator">&amp;&amp;</span> index <span class="token operator">&lt;</span> <span class="token keyword">this</span><span class="token punctuation">.</span>observerList<span class="token punctuation">.</span>length<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>observerList<span class="token punctuation">[</span>index<span class="token punctuation">]</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">class</span> <span class="token class-name">Subject</span> <span class="token punctuation">{</span>
    <span class="token function">constructor</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>obervers <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ObserverList</span> <span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token function">addObserver</span> <span class="token punctuation">(</span><span class="token parameter">observer</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>obervers<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>observer<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span>
    <span class="token function">removeObserver</span> <span class="token punctuation">(</span><span class="token parameter">observer</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>obervers<span class="token punctuation">.</span><span class="token function">remove</span><span class="token punctuation">(</span>observer<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span>
    <span class="token function">notify</span><span class="token punctuation">(</span><span class="token parameter">data</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>observers<span class="token punctuation">.</span>length <span class="token operator">&gt;</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
          <span class="token keyword">this</span><span class="token punctuation">.</span>observers<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token parameter">observer</span> <span class="token operator">=&gt;</span> observer<span class="token punctuation">.</span><span class="token function">update</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p>Observer:</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">class</span> <span class="token class-name">Observer</span> <span class="token punctuation">{</span>
    <span class="token function">constructor</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token comment">// need implement by concrete class</span>
    <span class="token function">update</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><h2 id="mediator"><a href="#mediator" class="header-anchor">#</a> Mediator</h2> <h2 id="prototype"><a href="#prototype" class="header-anchor">#</a> Prototype</h2> <h2 id="command"><a href="#command" class="header-anchor">#</a> Command</h2> <h2 id="facade"><a href="#facade" class="header-anchor">#</a> Facade</h2> <h2 id="factory"><a href="#factory" class="header-anchor">#</a> Factory</h2> <h2 id="mixin"><a href="#mixin" class="header-anchor">#</a> Mixin</h2> <h2 id="flyweight"><a href="#flyweight" class="header-anchor">#</a> Flyweight</h2> <h2 id="composite"><a href="#composite" class="header-anchor">#</a> Composite</h2> <h2 id="adapter"><a href="#adapter" class="header-anchor">#</a> Adapter</h2> <h2 id="iterator"><a href="#iterator" class="header-anchor">#</a> Iterator</h2> <h2 id="proxy"><a href="#proxy" class="header-anchor">#</a> Proxy</h2> <h2 id="builder"><a href="#builder" class="header-anchor">#</a> Builder</h2></div> <footer class="page-edit"><!----> <!----></footer> <!----> </main></div><div class="global-ui"></div></div>
    <script src="/assets/js/app.f101a0f9.js" defer></script><script src="/assets/js/2.b62cff51.js" defer></script><script src="/assets/js/5.789fbaef.js" defer></script>
  </body>
</html>
